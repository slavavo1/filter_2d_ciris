########################################
#  This file was generated by hdlmake  #
#  http://ohwr.org/projects/hdl-make/  #
#  v         #
########################################

TOP_MODULE := fir_2d_tb.sv

MODELSIM_INI_PATH := C:\questasim64_2021.1\win64\..

VCOM_FLAGS := -quiet -modelsimini modelsim.ini 
VSIM_FLAGS := 
VLOG_FLAGS := -quiet -modelsimini modelsim.ini 
VMAP_FLAGS := -modelsimini modelsim.ini 
#target for performing local simulation
local: sim_pre_cmd simulation sim_post_cmd

VERILOG_SRC := ..\..\..\..\..\..\common\common_lib2\AvalonST\crs_av_st_input\rtl\alt_vipvfr131_common_control_packet_decoder.v \
..\..\..\..\..\..\common\common_lib2\AvalonST\crs_av_st_input\rtl\alt_vipvfr131_common_stream_input.v \
..\..\..\..\..\..\common\common_lib2\AvalonST\crs_av_st_input\rtl\crs_av_st_input.sv \
..\..\..\..\..\..\common\common_lib2\AvalonST\crs_av_st_output\rtl\alt_vipvfr131_common_control_packet_encoder.v \
..\..\..\..\..\..\common\common_lib2\AvalonST\crs_av_st_output\rtl\alt_vipvfr131_common_stream_output.v \
..\..\..\..\..\..\common\common_lib2\AvalonST\crs_av_st_output\rtl\crs_av_st_output.sv \
..\..\..\..\..\..\common\common_lib2\fifo\sync_fifo\rtl\crs_lib_fifo_sync.sv \
..\..\..\..\..\..\common\common_lib2\ram\async_ram\rtl\crs_lib_async_ram.sv \
..\..\..\rtl\axil_reg_if.v \
..\..\..\rtl\axil_reg_if_rd.v \
..\..\..\rtl\axil_reg_if_wr.v \
..\..\..\rtl\filter_2d_ciris.sv \
..\..\..\rtl\filter_2d_ciris_version_gen.svh \
..\..\..\rtl\fir_2d.svh \
..\..\..\rtl\mult_matrix_2d.sv \
..\..\..\rtl\paralel_sum.sv \
..\..\..\rtl\reg_ciris.sv \
..\..\..\rtl\sqrt.sv \
..\..\..\tb\fir_2d_ciris\fir_2d_tb.sv \
..\..\..\tb\intel_ip\220model.v \
..\..\..\tb\intel_ip\altera_mf.v \
..\..\..\tb\intel_ip\altera_primitives.v \

VERILOG_OBJ := work\alt_vipvfr131_common_control_packet_decoder\.alt_vipvfr131_common_control_packet_decoder_v \
work\alt_vipvfr131_common_stream_input\.alt_vipvfr131_common_stream_input_v \
work\crs_av_st_input\.crs_av_st_input_sv \
work\alt_vipvfr131_common_control_packet_encoder\.alt_vipvfr131_common_control_packet_encoder_v \
work\alt_vipvfr131_common_stream_output\.alt_vipvfr131_common_stream_output_v \
work\crs_av_st_output\.crs_av_st_output_sv \
work\crs_lib_fifo_sync\.crs_lib_fifo_sync_sv \
work\crs_lib_async_ram\.crs_lib_async_ram_sv \
work\axil_reg_if\.axil_reg_if_v \
work\axil_reg_if_rd\.axil_reg_if_rd_v \
work\axil_reg_if_wr\.axil_reg_if_wr_v \
work\filter_2d_ciris\.filter_2d_ciris_sv \
work\filter_2d_ciris_version_gen\.filter_2d_ciris_version_gen_svh \
work\fir_2d\.fir_2d_svh \
work\mult_matrix_2d\.mult_matrix_2d_sv \
work\paralel_sum\.paralel_sum_sv \
work\reg_ciris\.reg_ciris_sv \
work\sqrt\.sqrt_sv \
work\fir_2d_tb\.fir_2d_tb_sv \
work\220model\.220model_v \
work\altera_mf\.altera_mf_v \
work\altera_primitives\.altera_primitives_v \

VHDL_SRC := 
VHDL_OBJ := 
INCLUDE_DIRS :=
LIBS := work
LIB_IND := work\.work

simulation: modelsim.ini $(LIB_IND) $(VERILOG_OBJ) $(VHDL_OBJ)
$(VERILOG_OBJ): modelsim.ini
$(VHDL_OBJ): $(LIB_IND) modelsim.ini

modelsim.ini: $(MODELSIM_INI_PATH)\modelsim.ini
		copy $< . 2>&1
work\.work:
	(vlib work && vmap $(VMAP_FLAGS) work && type nul >> work\.work) || del /s /q /f work

work\alt_vipvfr131_common_control_packet_decoder\.alt_vipvfr131_common_control_packet_decoder_v: ..\..\..\..\..\..\common\common_lib2\AvalonST\crs_av_st_input\rtl\alt_vipvfr131_common_control_packet_decoder.v
		vlog -work work $(VLOG_FLAGS)  $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\alt_vipvfr131_common_stream_input\.alt_vipvfr131_common_stream_input_v: ..\..\..\..\..\..\common\common_lib2\AvalonST\crs_av_st_input\rtl\alt_vipvfr131_common_stream_input.v
		vlog -work work $(VLOG_FLAGS)  $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\crs_av_st_input\.crs_av_st_input_sv: ..\..\..\..\..\..\common\common_lib2\AvalonST\crs_av_st_input\rtl\crs_av_st_input.sv \
work\alt_vipvfr131_common_control_packet_decoder\.alt_vipvfr131_common_control_packet_decoder_v \
work\alt_vipvfr131_common_stream_input\.alt_vipvfr131_common_stream_input_v
		vlog -work work $(VLOG_FLAGS) -sv $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\alt_vipvfr131_common_control_packet_encoder\.alt_vipvfr131_common_control_packet_encoder_v: ..\..\..\..\..\..\common\common_lib2\AvalonST\crs_av_st_output\rtl\alt_vipvfr131_common_control_packet_encoder.v
		vlog -work work $(VLOG_FLAGS)  $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\alt_vipvfr131_common_stream_output\.alt_vipvfr131_common_stream_output_v: ..\..\..\..\..\..\common\common_lib2\AvalonST\crs_av_st_output\rtl\alt_vipvfr131_common_stream_output.v
		vlog -work work $(VLOG_FLAGS)  $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\crs_av_st_output\.crs_av_st_output_sv: ..\..\..\..\..\..\common\common_lib2\AvalonST\crs_av_st_output\rtl\crs_av_st_output.sv \
work\alt_vipvfr131_common_control_packet_encoder\.alt_vipvfr131_common_control_packet_encoder_v \
work\alt_vipvfr131_common_stream_output\.alt_vipvfr131_common_stream_output_v
		vlog -work work $(VLOG_FLAGS) -sv $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\crs_lib_fifo_sync\.crs_lib_fifo_sync_sv: ..\..\..\..\..\..\common\common_lib2\fifo\sync_fifo\rtl\crs_lib_fifo_sync.sv \
work\crs_lib_async_ram\.crs_lib_async_ram_sv
		vlog -work work $(VLOG_FLAGS) -sv $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\crs_lib_async_ram\.crs_lib_async_ram_sv: ..\..\..\..\..\..\common\common_lib2\ram\async_ram\rtl\crs_lib_async_ram.sv
		vlog -work work $(VLOG_FLAGS) -sv $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\axil_reg_if\.axil_reg_if_v: ..\..\..\rtl\axil_reg_if.v \
work\axil_reg_if_rd\.axil_reg_if_rd_v \
work\axil_reg_if_wr\.axil_reg_if_wr_v
		vlog -work work $(VLOG_FLAGS)  $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\axil_reg_if_rd\.axil_reg_if_rd_v: ..\..\..\rtl\axil_reg_if_rd.v
		vlog -work work $(VLOG_FLAGS)  $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\axil_reg_if_wr\.axil_reg_if_wr_v: ..\..\..\rtl\axil_reg_if_wr.v
		vlog -work work $(VLOG_FLAGS)  $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\filter_2d_ciris\.filter_2d_ciris_sv: ..\..\..\rtl\filter_2d_ciris.sv \
work\crs_av_st_input\.crs_av_st_input_sv \
work\crs_av_st_output\.crs_av_st_output_sv \
work\crs_lib_fifo_sync\.crs_lib_fifo_sync_sv \
work\axil_reg_if\.axil_reg_if_v \
work\mult_matrix_2d\.mult_matrix_2d_sv \
..\..\..\rtl\fir_2d.svh
		vlog -work work $(VLOG_FLAGS) -sv $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\filter_2d_ciris_version_gen\.filter_2d_ciris_version_gen_svh: ..\..\..\rtl\filter_2d_ciris_version_gen.svh
		vlog -work work $(VLOG_FLAGS) -sv $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\fir_2d\.fir_2d_svh: ..\..\..\rtl\fir_2d.svh
		vlog -work work $(VLOG_FLAGS) -sv $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\mult_matrix_2d\.mult_matrix_2d_sv: ..\..\..\rtl\mult_matrix_2d.sv \
work\paralel_sum\.paralel_sum_sv \
work\reg_ciris\.reg_ciris_sv \
work\220model\.220model_v \
..\..\..\rtl\fir_2d.svh
		vlog -work work $(VLOG_FLAGS) -sv $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\paralel_sum\.paralel_sum_sv: ..\..\..\rtl\paralel_sum.sv \
..\..\..\rtl\fir_2d.svh
		vlog -work work $(VLOG_FLAGS) -sv $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\reg_ciris\.reg_ciris_sv: ..\..\..\rtl\reg_ciris.sv
		vlog -work work $(VLOG_FLAGS) -sv $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\sqrt\.sqrt_sv: ..\..\..\rtl\sqrt.sv \
work\altera_mf\.altera_mf_v
		vlog -work work $(VLOG_FLAGS) -sv $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\fir_2d_tb\.fir_2d_tb_sv: ..\..\..\tb\fir_2d_ciris\fir_2d_tb.sv \
work\filter_2d_ciris\.filter_2d_ciris_sv
		vlog -work work $(VLOG_FLAGS) -sv $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\220model\.220model_v: ..\..\..\tb\intel_ip\220model.v
		vlog -work work $(VLOG_FLAGS)  $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\altera_mf\.altera_mf_v: ..\..\..\tb\intel_ip\altera_mf.v
		vlog -work work $(VLOG_FLAGS)  $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


work\altera_primitives\.altera_primitives_v: ..\..\..\tb\intel_ip\altera_primitives.v
		vlog -work work $(VLOG_FLAGS)  $(INCLUDE_DIRS) $<
		@mkdir $(dir $@) && type nul >> $@


# USER SIM COMMANDS
sim_pre_cmd:
		
sim_post_cmd:
		vsim -voptargs=+acc -do wave.do -i fir_2d_tb

CLEAN_TARGETS := $(LIBS) modelsim.ini transcript

clean:
		del /s /q /f $(CLEAN_TARGETS)
		@-rmdir /s /q $(CLEAN_TARGETS) >nul 2>&1
mrproper: clean
		del /s /q /f *.vcd *.wlf

.PHONY: mrproper clean sim_pre_cmd sim_post_cmd simulation
